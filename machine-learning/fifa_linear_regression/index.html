<!doctype html><html><head><title>Nuevo Foundation Workshops</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=theme-color content="#000000"><meta name=revised content="2022-08-07T00:00:28 UTC"><meta name=application-name content=" "><meta name=msapplication-TileColor content="#FFFFFF"><meta name=msapplication-TileImage content="mstile-144x144.png"><meta name=msapplication-square70x70logo content="mstile-70x70.png"><meta name=msapplication-square150x150logo content="mstile-150x150.png"><meta name=msapplication-wide310x150logo content="mstile-310x150.png"><meta name=msapplication-square310x310logo content="mstile-310x310.png"><title>Activity 1: FIFA Linear Regression :: Nuevo Foundation Workshops</title><link rel="shortcut icon" href=/workshops/images/favicon.png type=image/x-icon><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css rel=stylesheet><link href=/workshops/css/nucleus.css rel=stylesheet><link href=/workshops/theme-flex/style.css rel=stylesheet><link rel="shortcut icon" href=https://www.nuevofoundation.org/favicons/favicon.ico><link rel=apple-touch-icon-precomposed sizes=57x57 href=https://www.nuevofoundation.org/favicons//apple-touch-icon-57x57.png><link rel=apple-touch-icon-precomposed sizes=114x114 href=https://www.nuevofoundation.org/favicons/apple-touch-icon-114x114.png><link rel=apple-touch-icon-precomposed sizes=72x72 href=https://www.nuevofoundation.org/favicons/apple-touch-icon-72x72.png><link rel=apple-touch-icon-precomposed sizes=144x144 href=./favicons/apple-touch-icon-144x144.png><link rel=apple-touch-icon-precomposed sizes=60x60 href=https://www.nuevofoundation.org/favicons/apple-touch-icon-60x60.png><link rel=apple-touch-icon-precomposed sizes=120x120 href=https://www.nuevofoundation.org/favicons/pple-touch-icon-120x120.png><link rel=apple-touch-icon-precomposed sizes=76x76 href=https://www.nuevofoundation.org/favicons/apple-touch-icon-76x76.png><link rel=apple-touch-icon-precomposed sizes=152x152 href=https://www.nuevofoundation.org/favicons/apple-touch-icon-152x152.png><link rel=icon type=image/png href=https://www.nuevofoundation.org/favicons/favicon-196x196.png sizes=196x196><link rel=icon type=image/png href=https://www.nuevofoundation.org/favicons/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=https://www.nuevofoundation.org/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://www.nuevofoundation.org/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=https://www.nuevofoundation.org/favicons/favicon-128.png sizes=128x128><link href="https://fonts.googleapis.com/css?family=Space+Mono:700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@3.3.5/dist/css/bootstrap.min.css><link type=text/css rel=stylesheet href=/workshops/css/nuevoweb.css><link rel=stylesheet href=/workshops/css/chunk.css><link rel=stylesheet href=/workshops/css/data-style.css><script src=/workshops/js/jquery-2.x.min.js></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script type=text/javascript>var baseurl="https:\/\/nuevofoundation.github.io\/workshops\/";</script><script lang=javascript>function toggleVisibility(){const menu=document.getElementById("mobile-nav-menu");if(menu.style.display=='none'){menu.classList.replace("transition-out","transition-in")
menu.style.display='block';}
else if(menu.style.display=='block'){menu.classList.replace("transition-in","transition-out")
menu.style.display='none';}}</script><meta name=description content="Basics of Machine Learning"></head><body data-url=/workshops/machine-learning/fifa_linear_regression/><header><div id=mobile-nav-menu class=transition-out style=display:none><div class=close-btn onclick=toggleVisibility();><i aria-hidden=true focusable=false style=cursor:pointer class="fa fa-times fa-w-11 fa-sm"></i></div><div><div class="sc-dNLxif ecnYUM"><a href=/support-us><button class="sc-jbKcbu sedGx" style="background-color:#fff;color:#000;border:4px solid #000;border-radius:4px">
Donate</button></a></div></div><hr><div><a class="sc-jqCOkK glTukf" href=https://nuevofoundation.org/what-we-do><ul class="sc-uJMKN fRSLiB"><li>What We Do</li></ul></a><a class="sc-jqCOkK glTukf" href=https://nuevofoundation.org/get-involved><ul class="sc-uJMKN fRSLiB"><li>Get Involved</li></ul></a><a class="sc-jqCOkK glTukf" href=https://nuevofoundation.org/support-us><ul class="sc-uJMKN fRSLiB"><li>Support us</li></ul></a><a class="sc-jqCOkK glTukf" href=https://nuevofoundation.org/blog><ul class="sc-uJMKN fRSLiB"><li>Event blog</li></ul></a><a class="sc-jqCOkK glTukf" href=https://nuevofoundation.org/about-us><ul class="sc-uJMKN fRSLiB"><li>Our team</li></ul></a><a class="sc-jqCOkK glTukf" href=https://nuevofoundation.org/contact><ul class="sc-uJMKN fRSLiB"><li>Contact us</li></ul></a></div></div><div><div class="sc-gGBfsJ iKkPGj"><div class=container-fluid><div id=toprow class=row><div class=col-xs-12><div class="sc-EHOje fJMnSm"><div class="sc-bZQynM dXgQaH"><a class="sc-gzVnrw cZJBlR" target=_blank rel="noopener noreferrer" href=https://www.instagram.com/nuevofoundation><i aria-label="Nuevo Foundation Instagram" class="fab fa-instagram"></i></a></div><div class="sc-bZQynM dXgQaH"><a class="sc-gzVnrw cZJBlR" target=_blank rel="noopener noreferrer" href=https://twitter.com/nuevofoundation><i aria-label="Nuevo Foundation Twitter" class="fab fa-twitter"></i></a></div><div class="sc-bZQynM dXgQaH"><a class="sc-gzVnrw cZJBlR" target=_blank rel="noopener noreferrer" href=https://www.facebook.com/NuevoFoundation><i aria-label="Nuevo Foundation Facebook" class="fab fa-facebook-f"></i></a></div><div class="sc-bZQynM dXgQaH"><a class="sc-gzVnrw cZJBlR" target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/company/nuevofoundation><i aria-label="Nuevo Foundation LinkedIn" class="fab fa-linkedin"></i></a></div><div class="sc-bZQynM dXgQaH"><a class="sc-gzVnrw cZJBlR" target=_blank rel="noopener noreferrer" href="https://www.youtube.com/nuevofoundation?sub_confirmation=1n"><i aria-label="Nuevo Foundation YouTube" class="fab fa-youtube"></i></a></div><div class="sc-bZQynM dXgQaH"><a class="sc-gzVnrw cZJBlR" target=_blank rel="noopener noreferrer" href=https://github.com/NuevoFoundation><i aria-label="Nuevo Foundation Github" class="fab fa-github"></i></a></div><div class="sc-bZQynM dXgQaH"><a class="sc-gzVnrw cZJBlR" rel="noopener noreferrer" href=https://nuevofoundation.org/support-us>Donate</a></div></div></div></div><div id=secondrow class=row><div class="col-sm-12 hidden-xs"><div class="sc-htoDjs kjtfZK"><a class="sc-fjdhpX izNzAG active" aria-current=page href=https://nuevofoundation.org><img alt="Nuevo Foundation Logo" src=/workshops/images/Logo_long.0f097b90.svg height=60px></a><ul class="sc-iwsKbI bUOvG"><a class="sc-fjdhpX izNzAG" href=https://nuevofoundation.org/what-we-do><li class="sc-gZMcBi Bomeo">What We Do</li></a><a class=izNzAG href=/><li class="sc-gZMcBi Bomeo-selected jgBGVn">Workshops<span></span></li></a><a class="sc-fjdhpX izNzAG" href=https://nuevofoundation.org/get-involved><li class="sc-gZMcBi Bomeo">Get Involved</li></a><a class="sc-fjdhpX izNzAG" href=https://nuevofoundation.org/support-us><li class="sc-gZMcBi Bomeo">Support us</li></a><a class="sc-fjdhpX izNzAG" href=https://nuevofoundation.org/blog><li class="sc-gZMcBi Bomeo">Event blog</li></a><a class="sc-fjdhpX izNzAG" href=https://nuevofoundation.org/about-us><li class="sc-gZMcBi Bomeo">Our team</li></a><a class="sc-fjdhpX izNzAG" href=https://nuevofoundation.org/contact><li class="sc-gZMcBi Bomeo">Contact us</li></a></ul></div></div><div class="hidden-lg hidden-md hidden-sm col-xs-12"><div class=row><div class=col-xs-10><a class="sc-fjdhpX izNzAG active" aria-current=page href=/><img alt="Nuevo Foundation Logo" class="sc-dnqmqq emolVn" src=/workshops/images/Logo_long.0f097b90.svg height=60%></a></div><div class=col-xs-2 onclick=toggleVisibility(); style=padding-top:4%;padding-left:4%;cursor:pointer><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14 fa-lg" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></div></div></div></div></div></div></header><article><aside><ul class=menu><li data-nav-id=https://nuevofoundation.github.io/workshops/machine-learning/ class="dd-item parent haschildren"><div><a href=/workshops/machine-learning/>Machine Learning</a>
<i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=https://nuevofoundation.github.io/workshops/machine-learning/fifa_linear_regression/ class="dd-item active"><div><a href=/workshops/machine-learning/fifa_linear_regression/>Activity 1: FIFA Linear Regression
</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul></li></ul><section></section></aside><section class=page><div align=right><select id=select-language onchange="location=this.value;">
<option id=en value=https://nuevofoundation.github.io/workshops/machine-learning/fifa_linear_regression/ selected>English</option></select></div><div class=nav-select>Navigation:&nbsp;
<select onchange="location.href=this.value;">
<option value=/workshops/machine-learning/>Machine Learning</option>
<option value=/workshops/machine-learning/fifa_linear_regression/ selected>- Activity 1: FIFA Linear Regression</option></select></div><h1>Activity 1: FIFA Linear Regression</h1><div class="panel panel-primary"><div class=panel-heading>Workshop Resources</div><div class=panel-body><div class=metadata-row><span class=metadata-label>Pre-requisite:</span>
<span class=metadata-value>none</span></div><div class=metadata-row><span class=metadata-label>Difficulty:</span>
<span class=metadata-value>Beginner</span></div></div></div><h1 id=lets-learn-some-machine-learning-to-evaluate-player-overall-ratings-in-fifa-video-game>Let&rsquo;s learn some machine learning to evaluate player overall ratings in FIFA video game</h1><p>Machine learning is the science to study *algorithms* and *models* that enable computers to recognize things, make decisions, even predict results without explicit instructions. As an example, when talking to your phone assistant such as Siri or Cortana, machine learning helps to translate your voice into text and further understand what you requested. Is that amazing?</p><p>Today we are going to show you how to *teach* a computer evaluate overall ratings for soccer player based on their attributes step by step.</p><p>Let's get on to it!</p><h2 id=a-little-background>A little background</h2><p>Assume that there's a formula to calculate the "Overall" ratings for soccer players by EA Sports (The developer of FIFA 2019). With this formula, we can easily calculate the overall ratings for any player even he/she is not in the game. The problem is, we don't know what exactly the formula looks like.<br>We know the *input* which consists of player attributes and the *output* which is the Overall ratings. Then we can use an approach called "regression" to "estimate" the formula based on the input/output.</p><p>Today, we are going to use a simple model called Linear Regression.
Let assume the formula that calculates the overall ratings of soccer player \( y = f(x)\) is
\[
f(x) = ax + b
\]
The linear regression aims to figure out \(a\) and \(b\). The formula \(f(x)\) is called "model" in machine learning, and the process of solve/estimate the model is called "training" the model. Once we trained the model, we can use it to predict target \(y\) of new data.</p><p>Back to our story, if we only have 1 variable \(x\), estimate \(f(x)\) should be easy. Everyone should be able to solve it with a pen and a piece of paper. However, when \(x\) is a long list of attributes of soccer players like speed, power, passing, tackling, it becomes complicated. The formula should be rewritten into
\[
f(x_1, x_2, ..., x_n) = a_1 * x_1 + a_2 * x_2 + ... + a_n * x_n + b
\]
Then we have to feed the model with a lot of high-quality data to make the model more closer to the "real" formula. Let's get started!</p><h2 id=step-1-get-dataset>Step 1: get dataset</h2><p>FIFA 2019 is a video soccer game. All the players in this game have an overall rating as well as a lot of attributes such as crossing, finishing, etc.</p><p>We are heading to the website called kaggle.com to get our dataset.<br></p><p><a href=https://www.kaggle.com/karangadiya/fifa19/ target=_blank>FIFA19 dataset<sup><span class="glyphicon glyphicon-new-window" aria-hidden=true></span></sup></a></p><br>*Note: you may need to sign up to get the download link*.<br><p>On this page, you can find a lot of information about this dataset, take some time to browse it and familiarize the dataset.
<img src=kaggle_fifa_dataset.png alt=kaggle_fifa_dataset.png></p><p>After you download it, extract the zip file to a folder, let&rsquo;s say <code>C:\fifa_dataset\</code>.</p><h2 id=step-2-start-the-project>Step 2: start the project</h2><p>Open jupyter notebook, new notebook > python 3</p><p>At the beginning of the file, let&rsquo;s import some necessary packages.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># Importing necessary packages</span>
<span style=color:#f92672>import</span> <span style=color:#111>pandas</span> <span style=color:#f92672>as</span> <span style=color:#111>pd</span>
<span style=color:#f92672>import</span> <span style=color:#111>numpy</span> <span style=color:#f92672>as</span> <span style=color:#111>np</span>
<span style=color:#f92672>import</span> <span style=color:#111>matplotlib.pyplot</span> <span style=color:#f92672>as</span> <span style=color:#111>plt</span>
<span style=color:#f92672>from</span> <span style=color:#111>sklearn.linear_model</span> <span style=color:#f92672>import</span> <span style=color:#111>LinearRegression</span>
<span style=color:#f92672>from</span> <span style=color:#111>sklearn.model_selection</span> <span style=color:#f92672>import</span> <span style=color:#111>train_test_split</span>
</code></pre></div><pre><code>---------------------------------------------------------------------------

ImportError                               Traceback (most recent call last)

&lt;ipython-input-2-122d997e4faf&gt; in &lt;module&gt;()
      1 # Importing necessary packages
----&gt; 2 import pandas as pd
      3 import numpy as np
      4 import matplotlib.pyplot as plt
      5 from sklearn.linear_model import LinearRegression


ImportError: No module named pandas
</code></pre><h2 id=step-3-load-dataset>Step 3: load dataset</h2><p>Change <code>mypath</code> to the folder you extract the dataset file (i.e., <code>C:\fifa_dataset\</code>). To verify we loaded it successfully, we use a function called <code>describe()</code> to print its statistics.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># load datasets</span>
<span style=color:#111>mypath</span> <span style=color:#f92672>=</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>C:/Users/ruilliu/Documents/nuevo_lr_fifa/</span><span style=color:#d88200>&#34;</span> <span style=color:#75715e># change it to your own path</span>
<span style=color:#111>fifa_data</span> <span style=color:#f92672>=</span> <span style=color:#111>pd</span><span style=color:#f92672>.</span><span style=color:#111>read_csv</span><span style=color:#111>(</span><span style=color:#111>mypath</span><span style=color:#f92672>+</span><span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>data.csv</span><span style=color:#d88200>&#34;</span><span style=color:#111>)</span>
<span style=color:#111>fifa_data</span><span style=color:#f92672>.</span><span style=color:#111>describe</span><span style=color:#111>(</span><span style=color:#111>)</span>
</code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-3-f099c0f24a52&gt; in &lt;module&gt;()
      1 # load datasets
      2 mypath = &quot;C:/Users/ruilliu/Documents/nuevo_lr_fifa/&quot; # change it to your own path
----&gt; 3 fifa_data = pd.read_csv(mypath+&quot;data.csv&quot;)
      4 fifa_data.describe()


NameError: name 'pd' is not defined
</code></pre><h2 id=step-4-pre-process-data>Step 4: Pre-process data</h2><p>By now, we have imported our dataset. In real life, each soccer player has a specific position. Different positions require strength in different attributes. So let&rsquo;s narrow down the scope to the striker.<br></p><p>First, let&rsquo;s list all the positions.
This statement looks a little bit longer, but it does the work. The <code>fifa_data['position']</code> selects position column of the <code>fifa_data</code>, the <code>dropna()</code> eliminates cells that are blank, and <code>unique()</code> remove all duplicated items for us.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># to find out how many positions are there</span>
<span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#111>fifa_data</span><span style=color:#111>[</span><span style=color:#d88200></span><span style=color:#d88200>&#39;</span><span style=color:#d88200>Position</span><span style=color:#d88200>&#39;</span><span style=color:#111>]</span><span style=color:#f92672>.</span><span style=color:#111>dropna</span><span style=color:#111>(</span><span style=color:#111>)</span><span style=color:#f92672>.</span><span style=color:#111>unique</span><span style=color:#111>(</span><span style=color:#111>)</span><span style=color:#111>)</span>
</code></pre></div><pre><code>['RF' 'ST' 'LW' 'GK' 'RCM' 'LF' 'RS' 'RCB' 'LCM' 'CB' 'LDM' 'CAM' 'CDM'
 'LS' 'LCB' 'RM' 'LAM' 'LM' 'LB' 'RDM' 'RW' 'CM' 'RB' 'RAM' 'CF' 'RWB'
 'LWB']
</code></pre><p>Now we can filter data by position &ldquo;ST&rdquo;. You&rsquo;re encouraged to select other positions to see what&rsquo;s the difference.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># get players by position</span>
<span style=color:#111>fifa_data_by_pos</span> <span style=color:#f92672>=</span> <span style=color:#111>fifa_data</span><span style=color:#111>[</span><span style=color:#111>fifa_data</span><span style=color:#111>[</span><span style=color:#d88200></span><span style=color:#d88200>&#39;</span><span style=color:#d88200>Position</span><span style=color:#d88200>&#39;</span><span style=color:#111>]</span><span style=color:#f92672>==</span><span style=color:#d88200></span><span style=color:#d88200>&#39;</span><span style=color:#d88200>ST</span><span style=color:#d88200>&#39;</span><span style=color:#111>]</span>
</code></pre></div><p>Let&rsquo;s plot a histogram for overall ratings of all strikers.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>hist</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#f92672>=</span><span style=color:#111>fifa_data_by_pos</span><span style=color:#111>[</span><span style=color:#111>target</span><span style=color:#111>]</span><span style=color:#111>,</span> <span style=color:#111>bins</span><span style=color:#f92672>=</span><span style=color:#ae81ff>10</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.75</span><span style=color:#111>,</span> <span style=color:#111>rwidth</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.85</span><span style=color:#111>)</span>
</code></pre></div><pre><code>(array([ 40., 186., 363., 463., 601., 341., 113.,  34.,   9.,   2.]),
 array([47. , 51.7, 56.4, 61.1, 65.8, 70.5, 75.2, 79.9, 84.6, 89.3, 94. ]),
 &lt;a list of 10 Patch objects&gt;)
</code></pre><p><img src=output_11_1.png alt=png></p><p>Next, we want to split the data into two sets, one is used to train the model, another one is used to verify the trained model is good.</p><p>You may think, we should leave as much as possible data for training because it makes the model better. The model fits better, but only for training datasets. When you apply the model to testing data, the prediction accuracy could go down. This is called &ldquo;overfitting&rdquo;.</p><p>Now, we leave 25% of the data for testing.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># split data into train_data and test_data randomly</span>
<span style=color:#75715e># you&#39;re weclome to change the ratio of test_size to see what will happen</span>
<span style=color:#111>train_data</span><span style=color:#111>,</span> <span style=color:#111>test_data</span> <span style=color:#f92672>=</span> <span style=color:#111>train_test_split</span><span style=color:#111>(</span><span style=color:#111>fifa_data_by_pos</span><span style=color:#111>,</span><span style=color:#111>test_size</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.25</span><span style=color:#111>)</span>

<span style=color:#75715e># print the number of players in train_data and test_data</span>
<span style=color:#75715e># len() gives you the number of players in numerical format</span>
<span style=color:#75715e># str() converts numerical value into string</span>
<span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>The # of training data is </span><span style=color:#d88200>&#34;</span> <span style=color:#f92672>+</span> <span style=color:#111>str</span><span style=color:#111>(</span><span style=color:#111>len</span><span style=color:#111>(</span><span style=color:#111>train_data</span><span style=color:#111>)</span><span style=color:#111>)</span><span style=color:#111>)</span>
<span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>The # of testing data is </span><span style=color:#d88200>&#34;</span> <span style=color:#f92672>+</span> <span style=color:#111>str</span><span style=color:#111>(</span><span style=color:#111>len</span><span style=color:#111>(</span><span style=color:#111>test_data</span><span style=color:#111>)</span><span style=color:#111>)</span><span style=color:#111>)</span>
</code></pre></div><pre><code>The # of training data is 1614
The # of testing data is 538
</code></pre><h1 id=step-5-feature-selection>Step 5: feature selection</h1><p>Our next step is selecting proper features. Feature selection is a term in machine learning to describe the method and process of choosing relevant features for the model. A feature is one (x) in the formula. In our story, it is an attribute of a soccer player.</p><p>Since we are using the linear regression model, how attribute correlated to the target (&ldquo;Overall&rdquo;) becomes the criteria to choose the right features.</p><p>We use a built-in function correlation <code>corr</code> to Compute pairwise correlation of columns. There are three methods we can choose from,</p><ul><li>pearson : standard correlation coefficient</li><li>kendall : Kendall Tau correlation coefficient</li><li>spearman : Spearman rank correlation</li></ul><p>In this tutorial we use pearson.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># select target</span>
<span style=color:#111>target</span> <span style=color:#f92672>=</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Overall</span><span style=color:#d88200>&#34;</span>

<span style=color:#75715e># To find the correlation among the columns using pearson method </span>
<span style=color:#111>feature_corr</span> <span style=color:#f92672>=</span> <span style=color:#111>train_data</span><span style=color:#f92672>.</span><span style=color:#111>corr</span><span style=color:#111>(</span><span style=color:#111>method</span> <span style=color:#f92672>=</span><span style=color:#d88200></span><span style=color:#d88200>&#39;</span><span style=color:#d88200>pearson</span><span style=color:#d88200>&#39;</span><span style=color:#111>)</span> <span style=color:#111>[</span><span style=color:#111>target</span><span style=color:#111>]</span>

<span style=color:#75715e># sort the features</span>
<span style=color:#111>feature_corr</span> <span style=color:#f92672>=</span> <span style=color:#111>feature_corr</span><span style=color:#f92672>.</span><span style=color:#111>sort_values</span><span style=color:#111>(</span><span style=color:#111>ascending</span> <span style=color:#f92672>=</span> <span style=color:#111>False</span><span style=color:#111>)</span>

<span style=color:#75715e># show the top 20 features</span>
<span style=color:#75715e># note that we are start from 1 not zero, because Overall is alwasy on the top of the list</span>
<span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#111>feature_corr</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:</span><span style=color:#ae81ff>21</span><span style=color:#111>]</span><span style=color:#111>)</span> 
</code></pre></div><pre><code>Positioning        0.904367
Special            0.903856
Finishing          0.899783
BallControl        0.896988
ShotPower          0.877842
Reactions          0.861441
Volleys            0.834433
Composure          0.827529
ShortPassing       0.813074
Dribbling          0.802565
LongShots          0.794059
HeadingAccuracy    0.711129
Vision             0.671054
Skill Moves        0.649300
Curve              0.641426
Crossing           0.603249
Potential          0.593139
Penalties          0.583906
LongPassing        0.575092
FKAccuracy         0.569704
Name: Overall, dtype: float64
</code></pre><p>Now, we can copy and paste the top 10 or top 12 features. (Note: Please don&rsquo;t copy the space)</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># select some features</span>
<span style=color:#111>features</span> <span style=color:#f92672>=</span> <span style=color:#111>[</span><span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Positioning</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Finishing</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Special</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>BallControl</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> 
            <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>ShotPower</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Reactions</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Volleys</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Composure</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>ShortPassing</span><span style=color:#d88200>&#34;</span><span style=color:#111>]</span>
</code></pre></div><p>Also, we can just extract the feature names from the index. Note that, we start from 1 because we do not want include <code>overall</code> who is alwasy on the top of the list.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># extract feature names from the series</span>
<span style=color:#111>features</span> <span style=color:#f92672>=</span> <span style=color:#111>feature_corr</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:</span><span style=color:#ae81ff>21</span><span style=color:#111>]</span><span style=color:#f92672>.</span><span style=color:#111>index</span><span style=color:#f92672>.</span><span style=color:#111>tolist</span><span style=color:#111>(</span><span style=color:#111>)</span>

<span style=color:#75715e># show the features</span>
<span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#111>features</span><span style=color:#111>)</span>
</code></pre></div><pre><code>['Positioning', 'Special', 'Finishing', 'BallControl', 'ShotPower', 'Reactions', 'Volleys', 'Composure', 'ShortPassing', 'Dribbling', 'LongShots', 'HeadingAccuracy', 'Vision', 'Skill Moves', 'Curve', 'Crossing', 'Potential', 'Penalties', 'LongPassing', 'FKAccuracy']
</code></pre><h2 id=step-6-train-the-model>Step 6: train the model</h2><p>Now we are ready to train the model. we use &lsquo;LinearRegression().fit()&rsquo; to train it. and this model object has a <code>score()</code> function to return the score of the model, which is the coefficient of determination R^2 of the prediction. For now you only need to know the higher the better.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># prepare training data</span>
<span style=color:#111>x_train</span> <span style=color:#f92672>=</span> <span style=color:#111>train_data</span><span style=color:#111>[</span><span style=color:#111>features</span><span style=color:#111>]</span>
<span style=color:#111>y_train</span> <span style=color:#f92672>=</span> <span style=color:#111>train_data</span><span style=color:#111>[</span><span style=color:#111>target</span><span style=color:#111>]</span>

<span style=color:#75715e># Applying Linear regression</span>
<span style=color:#75715e># fit() is the method to train the model</span>
<span style=color:#111>model</span> <span style=color:#f92672>=</span> <span style=color:#111>LinearRegression</span><span style=color:#111>(</span><span style=color:#111>)</span><span style=color:#f92672>.</span><span style=color:#111>fit</span><span style=color:#111>(</span><span style=color:#111>x_train</span><span style=color:#111>,</span><span style=color:#111>y_train</span><span style=color:#111>)</span>

<span style=color:#75715e># Model&#39;s score</span>
<span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Score: </span><span style=color:#d88200>&#34;</span> <span style=color:#f92672>+</span> <span style=color:#111>str</span><span style=color:#111>(</span><span style=color:#111>model</span><span style=color:#f92672>.</span><span style=color:#111>score</span><span style=color:#111>(</span><span style=color:#111>x_train</span><span style=color:#111>,</span><span style=color:#111>y_train</span><span style=color:#111>)</span><span style=color:#111>)</span><span style=color:#111>)</span>
</code></pre></div><pre><code>Score: 0.9875123836174596
</code></pre><h2 id=step-7-try-the-model-on-testing-data>Step 7: try the model on testing data</h2><p>Now we are using the trained model to estimate players in <code>test_data</code>. Similar to what we do to the <code>train_data</code>, we create <code>x_test</code> and <code>y_test</code>.</p><p><code>model.predict()</code> will generate a list of predicted results.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># we would like to sort test data on target value (&#34;Overall&#34;)</span>
<span style=color:#111>test_data</span> <span style=color:#f92672>=</span> <span style=color:#111>test_data</span><span style=color:#f92672>.</span><span style=color:#111>sort_values</span><span style=color:#111>(</span><span style=color:#111>[</span><span style=color:#111>target</span><span style=color:#111>]</span><span style=color:#111>,</span> <span style=color:#111>ascending</span><span style=color:#f92672>=</span><span style=color:#111>False</span><span style=color:#111>)</span>

<span style=color:#111>x_test</span> <span style=color:#f92672>=</span> <span style=color:#111>test_data</span><span style=color:#111>[</span><span style=color:#111>features</span><span style=color:#111>]</span>
<span style=color:#111>y_test</span> <span style=color:#f92672>=</span> <span style=color:#111>test_data</span><span style=color:#111>[</span><span style=color:#111>target</span><span style=color:#111>]</span>

<span style=color:#111>y_pred</span> <span style=color:#f92672>=</span> <span style=color:#111>model</span><span style=color:#f92672>.</span><span style=color:#111>predict</span><span style=color:#111>(</span><span style=color:#111>x_test</span><span style=color:#111>)</span>
</code></pre></div><p>Let&rsquo;s compare with the actual overall ratings</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># add a new column of predicted overall to test_data</span>
<span style=color:#111>test_data</span><span style=color:#111>[</span><span style=color:#d88200></span><span style=color:#d88200>&#39;</span><span style=color:#d88200>Predicted Overall</span><span style=color:#d88200>&#39;</span><span style=color:#111>]</span> <span style=color:#f92672>=</span> <span style=color:#111>y_pred</span><span style=color:#f92672>.</span><span style=color:#111>copy</span><span style=color:#111>(</span><span style=color:#111>)</span>

<span style=color:#75715e># add a new column of prediction difference ratio to test_data</span>
<span style=color:#111>difference</span> <span style=color:#f92672>=</span> <span style=color:#111>(</span><span style=color:#111>y_pred</span> <span style=color:#f92672>-</span> <span style=color:#111>y_test</span><span style=color:#111>)</span> <span style=color:#f92672>/</span> <span style=color:#111>y_test</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span>
<span style=color:#111>test_data</span><span style=color:#111>[</span><span style=color:#d88200></span><span style=color:#d88200>&#39;</span><span style=color:#d88200>Difference (</span><span style=color:#d88200>%</span><span style=color:#d88200>)</span><span style=color:#d88200>&#39;</span><span style=color:#111>]</span> <span style=color:#f92672>=</span> <span style=color:#111>difference</span>

<span style=color:#75715e># print the results</span>
<span style=color:#111>test_data</span><span style=color:#111>[</span><span style=color:#111>[</span><span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Name</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Nationality</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Club</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Overall</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Predicted Overall</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Difference (</span><span style=color:#d88200>%</span><span style=color:#d88200>)</span><span style=color:#d88200>&#34;</span><span style=color:#111>]</span><span style=color:#111>]</span>
</code></pre></div><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}<pre><code>.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</code></pre><p></style></p><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Name</th><th>Nationality</th><th>Club</th><th>Overall</th><th>Predicted Overall</th><th>Difference (%)</th></tr></thead><tbody><tr><th>1</th><td>Cristiano Ronaldo</td><td>Portugal</td><td>Juventus</td><td>94</td><td>91.973701</td><td>-2.155638</td></tr><tr><th>10</th><td>R. Lewandowski</td><td>Poland</td><td>FC Bayern München</td><td>90</td><td>88.135513</td><td>-2.071652</td></tr><tr><th>23</th><td>S. Agüero</td><td>Argentina</td><td>Manchester City</td><td>89</td><td>87.807637</td><td>-1.339733</td></tr><tr><th>48</th><td>C. Immobile</td><td>Italy</td><td>Lazio</td><td>87</td><td>85.933234</td><td>-1.226168</td></tr><tr><th>159</th><td>Louri Beretta</td><td>Brazil</td><td>Atlético Mineiro</td><td>83</td><td>81.583941</td><td>-1.706096</td></tr><tr><th>193</th><td>Rodrigo</td><td>Spain</td><td>Valencia CF</td><td>83</td><td>81.784946</td><td>-1.463921</td></tr><tr><th>179</th><td>S. Gnabry</td><td>Germany</td><td>FC Bayern München</td><td>83</td><td>79.978980</td><td>-3.639783</td></tr><tr><th>315</th><td>David Villa</td><td>Spain</td><td>New York City FC</td><td>82</td><td>81.259066</td><td>-0.903578</td></tr><tr><th>362</th><td>Paco Alcácer</td><td>Spain</td><td>Borussia Dortmund</td><td>81</td><td>81.836532</td><td>1.032756</td></tr><tr><th>518</th><td>Alexandre Pato</td><td>Brazil</td><td>Tianjin Quanjian FC</td><td>80</td><td>78.322831</td><td>-2.096461</td></tr><tr><th>499</th><td>L. de Jong</td><td>Netherlands</td><td>PSV</td><td>80</td><td>79.993062</td><td>-0.008672</td></tr><tr><th>523</th><td>K. Gameiro</td><td>France</td><td>Valencia CF</td><td>80</td><td>79.130702</td><td>-1.086622</td></tr><tr><th>721</th><td>B. Yılmaz</td><td>Turkey</td><td>Trabzonspor</td><td>79</td><td>78.092396</td><td>-1.148866</td></tr><tr><th>693</th><td>S. Jovetić</td><td>Montenegro</td><td>AS Monaco</td><td>79</td><td>79.353044</td><td>0.446891</td></tr><tr><th>591</th><td>L. Alario</td><td>Argentina</td><td>Bayer 04 Leverkusen</td><td>79</td><td>79.066446</td><td>0.084109</td></tr><tr><th>569</th><td>André Silva</td><td>Portugal</td><td>Sevilla FC</td><td>79</td><td>79.925229</td><td>1.171175</td></tr><tr><th>588</th><td>M. Philipp</td><td>Germany</td><td>Borussia Dortmund</td><td>79</td><td>78.962674</td><td>-0.047248</td></tr><tr><th>561</th><td>L. Martínez</td><td>Argentina</td><td>Inter</td><td>79</td><td>79.411940</td><td>0.521443</td></tr><tr><th>874</th><td>A. Dzyuba</td><td>Russia</td><td>NaN</td><td>78</td><td>76.855093</td><td>-1.467829</td></tr><tr><th>825</th><td>S. García</td><td>Uruguay</td><td>Godoy Cruz</td><td>78</td><td>77.375588</td><td>-0.800528</td></tr><tr><th>909</th><td>V. Germain</td><td>France</td><td>Olympique de Marseille</td><td>77</td><td>77.509005</td><td>0.661045</td></tr><tr><th>1095</th><td>N. Jørgensen</td><td>Denmark</td><td>Feyenoord</td><td>77</td><td>76.745918</td><td>-0.329976</td></tr><tr><th>992</th><td>J. Sand</td><td>Argentina</td><td>Deportivo Cali</td><td>77</td><td>78.886169</td><td>2.449570</td></tr><tr><th>1137</th><td>Rubén Castro</td><td>Spain</td><td>UD Las Palmas</td><td>77</td><td>77.797984</td><td>1.036343</td></tr><tr><th>895</th><td>M. Harnik</td><td>Austria</td><td>SV Werder Bremen</td><td>77</td><td>76.926679</td><td>-0.095222</td></tr><tr><th>1413</th><td>Alan Carvalho</td><td>Brazil</td><td>Guangzhou Evergrande Taobao FC</td><td>76</td><td>75.922866</td><td>-0.101492</td></tr><tr><th>1327</th><td>K. Dolberg</td><td>Denmark</td><td>Ajax</td><td>76</td><td>76.060831</td><td>0.080041</td></tr><tr><th>1496</th><td>F. Montero</td><td>Colombia</td><td>Sporting CP</td><td>76</td><td>77.017187</td><td>1.338404</td></tr><tr><th>1240</th><td>I. Popov</td><td>Bulgaria</td><td>Spartak Moscow</td><td>76</td><td>75.734350</td><td>-0.349540</td></tr><tr><th>1357</th><td>I. Slimani</td><td>Algeria</td><td>Fenerbahçe SK</td><td>76</td><td>76.494507</td><td>0.650667</td></tr><tr><th>...</th><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><th>17484</th><td>J. Lankester</td><td>England</td><td>Ipswich Town</td><td>54</td><td>56.121884</td><td>3.929415</td></tr><tr><th>17469</th><td>J. Gallagher</td><td>Republic of Ireland</td><td>Atlanta United</td><td>54</td><td>54.692444</td><td>1.282304</td></tr><tr><th>17501</th><td>M. Saavedra</td><td>Chile</td><td>Audax Italiano</td><td>54</td><td>54.137463</td><td>0.254561</td></tr><tr><th>17361</th><td>E. McKeown</td><td>England</td><td>Colchester United</td><td>54</td><td>52.796085</td><td>-2.229473</td></tr><tr><th>17399</th><td>Mao Haoyu</td><td>China PR</td><td>Tianjin TEDA FC</td><td>54</td><td>53.964477</td><td>-0.065783</td></tr><tr><th>17313</th><td>M. Howard</td><td>England</td><td>Preston North End</td><td>54</td><td>53.339370</td><td>-1.223389</td></tr><tr><th>17355</th><td>V. Barbero</td><td>Argentina</td><td>Belgrano de Córdoba</td><td>54</td><td>54.011344</td><td>0.021008</td></tr><tr><th>17422</th><td>Y. Ogaki</td><td>Japan</td><td>Nagoya Grampus</td><td>54</td><td>54.041024</td><td>0.075970</td></tr><tr><th>17447</th><td>Xie Weijun</td><td>China PR</td><td>Tianjin TEDA FC</td><td>54</td><td>53.452376</td><td>-1.014118</td></tr><tr><th>17367</th><td>T. Lauritsen</td><td>Norway</td><td>Odds BK</td><td>54</td><td>54.944641</td><td>1.749336</td></tr><tr><th>17482</th><td>F. Al Birekan</td><td>Saudi Arabia</td><td>Al Nassr</td><td>54</td><td>52.727175</td><td>-2.357084</td></tr><tr><th>17609</th><td>S. Jamieson</td><td>Scotland</td><td>St. Mirren</td><td>53</td><td>53.509650</td><td>0.961604</td></tr><tr><th>17716</th><td>M. Knox</td><td>Scotland</td><td>Livingston FC</td><td>53</td><td>52.826053</td><td>-0.328201</td></tr><tr><th>17578</th><td>Lei Wenjie</td><td>China PR</td><td>Shanghai SIPG FC</td><td>53</td><td>52.770581</td><td>-0.432867</td></tr><tr><th>17665</th><td>J. Smylie</td><td>Australia</td><td>Central Coast Mariners</td><td>53</td><td>52.469974</td><td>-1.000049</td></tr><tr><th>17611</th><td>Felipe Ferreyra</td><td>Brazil</td><td>Curicó Unido</td><td>53</td><td>52.861431</td><td>-0.261451</td></tr><tr><th>17765</th><td>A. Georgiou</td><td>Cyprus</td><td>Stevenage</td><td>52</td><td>52.167786</td><td>0.322665</td></tr><tr><th>17757</th><td>L. Smyth</td><td>Northern Ireland</td><td>Stevenage</td><td>52</td><td>51.999942</td><td>-0.000111</td></tr><tr><th>17923</th><td>A. Reghba</td><td>Republic of Ireland</td><td>Bohemian FC</td><td>51</td><td>51.075501</td><td>0.148041</td></tr><tr><th>17956</th><td>C. Murphy</td><td>Republic of Ireland</td><td>Cork City</td><td>51</td><td>51.731985</td><td>1.435265</td></tr><tr><th>17971</th><td>M. Najjar</td><td>Australia</td><td>Melbourne City FC</td><td>51</td><td>51.035541</td><td>0.069688</td></tr><tr><th>18013</th><td>W. Møller</td><td>Denmark</td><td>Esbjerg fB</td><td>51</td><td>50.796960</td><td>-0.398118</td></tr><tr><th>18062</th><td>Gao Dalun</td><td>China PR</td><td>Jiangsu Suning FC</td><td>50</td><td>49.677371</td><td>-0.645259</td></tr><tr><th>18094</th><td>M. Al Dhafeeri</td><td>Saudi Arabia</td><td>Al Batin</td><td>50</td><td>51.553964</td><td>3.107928</td></tr><tr><th>18063</th><td>R. Hackett-Fairchild</td><td>England</td><td>Charlton Athletic</td><td>50</td><td>50.140762</td><td>0.281524</td></tr><tr><th>18028</th><td>D. Asonganyi</td><td>England</td><td>Milton Keynes Dons</td><td>50</td><td>50.349896</td><td>0.699792</td></tr><tr><th>18140</th><td>K. Hawley</td><td>England</td><td>Morecambe</td><td>49</td><td>49.787332</td><td>1.606799</td></tr><tr><th>18166</th><td>N. Ayéva</td><td>Sweden</td><td>Örebro SK</td><td>48</td><td>48.802935</td><td>1.672781</td></tr><tr><th>18177</th><td>R. Roache</td><td>Republic of Ireland</td><td>Blackpool</td><td>48</td><td>49.226015</td><td>2.554197</td></tr><tr><th>18200</th><td>J. Young</td><td>Scotland</td><td>Swindon Town</td><td>47</td><td>48.019387</td><td>2.168908</td></tr></tbody></table><p>538 rows × 6 columns</p></div><p>Is that amazing? With the result, you&rsquo;re confident to use this model to estimate the overall ratings of any soccer player in the world!</p><p>Now let&rsquo;s do some plotting to visualize it.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># Plot outputs</span>
<span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>range</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span><span style=color:#111>y_test</span><span style=color:#f92672>.</span><span style=color:#111>shape</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span><span style=color:#111>)</span><span style=color:#111>,</span> <span style=color:#111>y_test</span><span style=color:#111>,</span>  <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200></span><span style=color:#d88200>&#39;</span><span style=color:#d88200>blue</span><span style=color:#d88200>&#39;</span><span style=color:#111>,</span> <span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Actual</span><span style=color:#d88200>&#34;</span><span style=color:#111>)</span>
<span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>plot</span><span style=color:#111>(</span><span style=color:#111>range</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span><span style=color:#111>y_test</span><span style=color:#f92672>.</span><span style=color:#111>shape</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span><span style=color:#111>)</span><span style=color:#111>,</span> <span style=color:#111>y_pred</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200></span><span style=color:#d88200>&#39;</span><span style=color:#d88200>red</span><span style=color:#d88200>&#39;</span><span style=color:#111>,</span> <span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Predicted</span><span style=color:#d88200>&#34;</span><span style=color:#111>)</span>

<span style=color:#75715e># add ticks, labels, legend</span>
<span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>xticks</span><span style=color:#111>(</span><span style=color:#111>(</span><span style=color:#111>)</span><span style=color:#111>)</span>
<span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>xlabel</span><span style=color:#111>(</span><span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Players (Sorted by Actual Overall ratings)</span><span style=color:#d88200>&#34;</span><span style=color:#111>)</span>
<span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>ylabel</span><span style=color:#111>(</span><span style=color:#d88200></span><span style=color:#d88200>&#34;</span><span style=color:#d88200>Overall ratings</span><span style=color:#d88200>&#34;</span><span style=color:#111>)</span>
<span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>legend</span><span style=color:#111>(</span><span style=color:#111>loc</span><span style=color:#f92672>=</span><span style=color:#d88200></span><span style=color:#d88200>&#39;</span><span style=color:#d88200>upper right</span><span style=color:#d88200>&#39;</span><span style=color:#111>)</span>
<span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>show</span><span style=color:#111>(</span><span style=color:#111>)</span>
</code></pre></div><p><img src=output_27_0.png alt=png></p><h2 id=conclusion>Conclusion</h2><p>Well done! You did it!</p><p>Next, you can play with this dataset a little bit.</p><ul><li>Try to select players in another position, i.e., goalkeeper (&ldquo;GK&rdquo;), what features will be the top correlated ones? what will be the features you selected?</li><li>Change the features you selected, will it change the model prediction results?</li><li>Change the ratio of training/testing data, see what will happen.</li><li>Change the target variable, for example, &lsquo;Value&rsquo; or &lsquo;Wage&rsquo;. Try to figure out how to convert the content to numerical value (hint: 50k = 50 * 1000, 10M = 10 * 1000 * 1000.</li></ul><p>In today&rsquo;s class, you learned how to train a linear regression model to estimate the overall ratings of a soccer player. We hope you enjoyed it and have inspired a little.</p><p>From now, you can explore the <a href=http://kaggle.com target=_blank>kaggle<sup><span class="glyphicon glyphicon-new-window" aria-hidden=true></span></sup></a>
website, try to find another dataset to play. Apply linear regression to predict/estimate the results. You&rsquo;ll be amazed by what you can be done.</p><div class=chevrons><style>.workshop-complete-image{margin:40px auto 50px;width:340.8px}.workshop-complete-words{font-family:Space Mono,monospace;font-weight:700;font-size:48px;line-height:71px;text-align:center}.horizontal-bar{background-color:#000;width:120px;height:12px;margin:80px auto 0}</style><div><hr><div class=workshop-complete-image><img src=/images/NF_mascot.jpg></div><div class=workshop-complete-words><p>You did it!<br>Workshop completed!</p></div></div><div id=navigation><div class=next-prev-wrapper-div><a class="nav nav-prev" href=https://nuevofoundation.github.io/workshops/machine-learning/ title="Machine Learning"><div class=nextprevbutton-border><div class=nextprevbutton-desktop-only><div class=nextprevbutton-next-text>Previous:</div><div class=nextprevbutton-subsection-name>Machine Learning</div><div class=nextprevbutton-horizontal-bar></div></div><div class=prevbutton-image><i class="fa fa-arrow-left"></i></div></div></a></div><div class=next-prev-wrapper-div></div></div></div></section></article><footer><div class=footline><div class=github-link><a href=https://github.com/NuevoFoundation/workshops/tree/master/content/machine-learning/FIFA_Linear_Regression.md target=blank><i class="fa fa-code-fork"></i></a></div></div><div></div></footer><script src=/workshops/js/clipboard.min.js></script><link href=/workshops/css/featherlight.min.css rel=stylesheet><script src=/workshops/js/featherlight.min.js></script><script src=/workshops/theme-flex/script.js></script><div id=footer class=row><div class=col-xs-12><div class=App-footer><div class=App-footer-big>Join the conversation on social media.</div><div class=social-images><a target=_blank rel="noopener noreferrer" href=https://www.instagram.com/nuevofoundation class=footer-pics><i aria-label="Nuevo Foundation Instagram" class="fab fa-2x fa-instagram"></i></a><a target=_blank rel="noopener noreferrer" href=https://twitter.com/nuevofoundation class=footer-pics><i aria-label="Nuevo Foundation Twitter" class="fab fa-2x fa-twitter"></i></a><a target=_blank rel="noopener noreferrer" href=https://www.facebook.com/NuevoFoundation class=footer-pics><i aria-label="Nuevo Foundation Facebook" class="fab fa-2x fa-1x fa-facebook-f"></i></a><a target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/company/nuevofoundation class=footer-pics><i aria-label="Nuevo Foundation LinkedIn" class="fab fa-2x fa-linkedin"></i></a><a target=_blank rel="noopener noreferrer" href="https://www.youtube.com/nuevofoundation?sub_confirmation=1" class=footer-pics><i aria-label="Nuevo Foundation YouTube" class="fab fa-2x fa-youtube"></i></a><a target=_blank rel="noopener noreferrer" href=https://github.com/NuevoFoundation class=footer-pics><i aria-label="Nuevo Foundation Github" class="fab fa-2x fa-github"></i></a></div><div class=App-footer-small>© Copyright 2022, All Rights Reserved by Nuevo Foundation, a 501(c)(3) nonprofit.</div></div></div></div></body></html>